# 実装計画

## 0. 事前ドキュメント作成

- [x] 0.1 Git管理とプロジェクト基本設定
  - .gitignoreファイルの作成（Node.js、Next.js、IDE設定）
  - README.mdの基本構造作成
  - package.jsonとプロジェクト設定ファイルの作成
  - ライセンスファイルの作成
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: initial project setup）
  - _要件: 設計書のドキュメント戦略に基づく_

- [x] 0.2 開発環境とワークフロー文書の作成
  - 開発環境セットアップガイド（docs/guides/development.md）の作成
  - コーディング規約とベストプラクティス文書の作成
  - コントリビューションガイド（docs/guides/contributing.md）の作成
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: add development workflow documentation）
  - _要件: 設計書のドキュメント戦略に基づく_

- [x] 0.3 ADR（Architecture Decision Records）の事前作成
  - ADR-0001: Next.js 15採用の決定記録
  - ADR-0002: SVG over Canvasの決定記録
  - ADR-0003: フィロタキシスアルゴリズム実装の決定記録
  - ADR-0004: ECSアーキテクチャ採用の決定記録
  - ADR-0005: イベント駆動アーキテクチャ採用の決定記録
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: add architecture decision records）
  - _要件: 設計書のADR戦略に基づく_

- [x] 0.4 アーキテクチャ設計文書の作成
  - システム概要図（docs/architecture/system-overview.md）
  - コンポーネント関係図（docs/architecture/component-diagram.md）
  - データフロー図（docs/architecture/data-flow.md）
  - Obsidian最適化（YAML frontmatter、内部リンク、タグ、コールアウト）
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: add architecture design documents）
  - _要件: 設計書のアーキテクチャ設計に基づく_

- [x] 0.5 ECSアーキテクチャ設計文書の作成
  - ECS基本概念とパターン説明（docs/architecture/ecs-design.md）
  - エンティティ・コンポーネント・システムの関係図
  - ECS実装ガイドラインとベストプラクティス
  - Obsidian最適化（YAML frontmatter、内部リンク、タグ、コールアウト）
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: add ECS architecture design）
  - _要件: 設計書のECS設計に基づく_

- [x] 0.6 イベント駆動アーキテクチャ設計文書の作成
  - イベントバス設計とイベントフロー（docs/architecture/event-driven-design.md）
  - イベント定義とライフサイクル
  - システム間通信パターンの説明
  - Obsidian最適化（YAML frontmatter、内部リンク、タグ、コールアウト）
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: add event-driven architecture design）
  - _要件: 設計書のイベント駆動アーキテクチャに基づく_

- [x] 0.7 API仕様書とインターフェース定義
  - コンポーネントAPI仕様書（docs/api/components.md）
  - ECSシステムインターフェース仕様
  - イベント定義とフロー仕様
  - Obsidian最適化（YAML frontmatter、内部リンク、タグ、コールアウト）
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: add API specifications and interfaces）
  - _要件: 設計書のコンポーネント設計に基づく_

## 1. プロジェクト基盤とコア構造の構築

- [x] 1.1 Next.js 15プロジェクトのセットアップと基本設定
  - Next.js 15 (App Router)、TypeScript、Tailwind CSSでプロジェクトを初期化
  - 基本的なディレクトリ構造を作成
  - 開発環境の設定（ESLint、Prettier、Vitest）
  - **動作確認**: `npm run dev`でローカルサーバーが起動し、基本ページが表示されることを確認
  - **動作確認**: `npm run lint`でESLintが正常に動作することを確認
  - **動作確認**: `npm run test`でVitestが正常に動作することを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: setup Next.js 15 project with TypeScript and Tailwind）
  - _要件: 6.1, 6.3_

- [x] 1.2 ECSコア基盤の実装とテスト
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: ECS設計文書（docs/architecture/ecs/overview.md, docs/architecture/ecs/components.md, docs/architecture/ecs/entities.md, docs/architecture/ecs/world.md）を確認
  - ECSコア（Entity、Component、System）の基底インターフェースを実装
  - ComponentTypesの定義とタイプセーフティの確保
  - 基本的なEntityManagerとSystemManagerを実装
  - ECSコア機能の単体テスト実装（Entity作成・削除、Component管理、System実行）
  - **動作確認**: 基本的なEntityの作成・削除が正常に動作することを確認
  - **動作確認**: Componentの追加・削除・取得が正常に動作することを確認
  - **動作確認**: SystemManagerでSystemの登録・実行が正常に動作することを確認
  - **動作確認**: `npm run test`でECSコアのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement ECS core foundation with tests）
  - _要件: 設計書のECS設計に基づく_

- [x] 1.3 イベントバスシステムの実装とテスト
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: イベント駆動設計文書（docs/architecture/event-driven-design.md）を確認
  - EventBusインターフェースと実装を作成
  - IdeaEventsとSystemEventsの定義
  - useEventBusカスタムフックの実装
  - イベントバスシステムの単体テスト実装（イベント発行・購読、フック動作）
  - **動作確認**: イベントの発行・購読が正常に動作することを確認
  - **動作確認**: useEventBusフックでイベントリスナーの登録・解除が正常に動作することを確認
  - **動作確認**: 複数のイベントタイプが適切に処理されることを確認
  - **動作確認**: `npm run test`でイベントバスのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement event bus system with tests）
  - _要件: 設計書のイベント駆動アーキテクチャに基づく_

## 2. フィロタキシス計算エンジンの実装

- [x] 2.1 フィロタキシス数学計算ユーティリティの実装とテスト
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: フィロタキシス設計文書（docs/architecture/ecs/overview.md）とAPI仕様書（docs/api/components.md）を確認
  - 黄金角（137.5077640500378度）の定数定義
  - フィロタキシス位置計算関数の実装
  - PhyllotaxisConfigインターフェースの実装
  - 位置計算アルゴリズムの正確性テスト
  - 境界値テスト（index=0、大きな値）
  - 黄金角計算の精度テスト
  - **動作確認**: 黄金角の値が正確に定義されていることを確認
  - **動作確認**: 位置計算関数で異なるインデックス値に対して適切な座標が返されることを確認
  - **動作確認**: PhyllotaxisConfigの各プロパティが正しく型定義されていることを確認
  - **動作確認**: `npm run test`でフィロタキシス計算のテストが全て通ることを確認
  - **動作確認**: テストカバレッジが適切に計測されていることを確認
  - **動作確認**: 境界値テストで期待される結果が返されることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement phyllotaxis mathematical utilities with tests）
  - _要件: 3.1, 3.2_

## 3. ECSコンポーネントとエンティティの実装

- [x] 3.1 ECSコンポーネント設計の見直しと修正
  - **現状分析**: 既存のコンポーネント実装（src/ecs/components/）と設計文書の整合性確認
  - **設計課題の特定**:
    - AnimationComponent.tsでの型エラー（AnimationType、EasingType未定義）
    - コンポーネント間の依存関係と整合性の問題
    - ヘルパー関数とファクトリ関数の不整合
    - 型定義の不完全性とインポートエラー
  - **型定義の修正**:
    - AnimationType、EasingTypeの定義と適切な配置
    - 全コンポーネントの型安全性確保
    - インポート/エクスポートの整理
  - **設計文書の更新**:
    - docs/architecture/ecs/components.md の実装に合わせた修正
    - docs/api/ecs-components.md の作成または更新
    - 実装済み機能の正確な反映
  - **コンポーネント実装の調整**:
    - 既存の4つのコンポーネント（Position, Text, Visual, Animation）の最終調整
    - ファクトリ関数とヘルパー関数の統一
    - 型ガード関数の完全性確保
  - **テストの実装**:
    - 各コンポーネントの単体テスト作成
    - ファクトリ関数、型ガード、ヘルパー関数のテスト
  - **動作確認**: 全コンポーネントファイルでTypeScriptエラーが解消されることを確認
  - **動作確認**: ファクトリ関数で適切なコンポーネントオブジェクトが生成されることを確認
  - **動作確認**: 型ガード関数が正しくコンポーネントタイプを判定することを確認
  - **動作確認**: `npm run test`でコンポーネントのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（fix: refine ECS component design and resolve type errors）
  - _要件: 実装済みコンポーネントの設計整合性確保_

- [x] 3.2 エンティティ管理システムの実装とテスト
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: ECSエンティティ設計文書（docs/architecture/ecs/entities.md）とAPI仕様書（docs/api/ecs-entities.md）を確認
  - EntityFactory.ts - メインのエンティティ作成機能の実装
    - createThemeEntity()とcreateIdeaEntity()メソッド
    - CreateEntityOptionsインターフェースの実装
    - エンティティ作成制限のチェック機能
    - バッチ作成とクローン機能
  - EntityTypes.ts - エンティティタイプ管理機能の実装
    - EntityTypeManagerクラスの実装
    - ENTITY_TYPE_CONFIGの定義
    - タイプ識別とキャッシュ機能
    - 作成制限と統計情報の管理
  - EntityManager.ts - 高レベルエンティティ管理機能の実装
    - エンティティクエリシステム
    - インデックス管理と並び替え機能
    - 整合性チェックと自動修復機能
    - 統計情報とパフォーマンス監視
  - 各クラスの単体テスト実装（作成・削除、クエリ、制限チェック、統計情報）
  - **動作確認**: EntityFactoryでテーマとアイデアエンティティが正常に作成されることを確認
  - **動作確認**: EntityTypeManagerでタイプ識別と制限管理が適切に動作することを確認
  - **動作確認**: EntityManagerでクエリとライフサイクル管理が適切に動作することを確認
  - **動作確認**: `npm run test`でエンティティ管理システムのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement entity management system with tests）
  - _要件: 1.2, 2.2_

- [x] 3.3 ECSシステム設計の見直しと基盤実装
  - **現状分析**: 既存のECSシステム実装（src/ecs/systems/）と設計文書の整合性確認
  - **設計課題の特定**:
    - システム基底クラスとインターフェースの不整合
    - World実装とシステム連携の仕様不明確
    - SystemManagerの実装不足
    - システム間の依存関係とイベントフローの曖昧さ
  - **理想的なECSシステム設計の策定**:
    - システム実行フロー設計（3フェーズ実行モデル）
    - イベント統合パターン設計（システム間連携）
    - World統合アーキテクチャ設計（EventBus統合）
  - **設計文書の更新**:
    - docs/architecture/ecs/systems.md の完全な設計仕様化
    - docs/architecture/ecs/world.md の統合アーキテクチャ設計
    - docs/api/ecs-systems.md の新設計に基づく仕様更新
  - **動作確認**: 設計文書が実装可能な詳細レベルで記述されていることを確認
  - **動作確認**: システム実行フロー、イベント統合、World統合の設計が整合していることを確認
  - **動作確認**: API仕様書が新設計と一致していることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: refine ECS system design and architecture）
  - _要件: ECSシステム設計の確立_

- [ ] 3.3.1 ECSコア基盤の設計実装
  - **事前確認**: 更新されたECS設計文書（docs/architecture/ecs/systems.md, world.md）を確認
  - **System.ts の設計実装**:
    - ISystemインターフェースの実装（設計文書準拠）
    - BaseSystem抽象クラスの実装（3フェーズ実行モデル）
    - IWorldインターフェースの完全定義
    - SystemStats型定義の実装
  - **World.ts の設計実装**:
    - EventBus統合機能の実装
    - EntityFactory統合機能の実装
    - QuerySystem統合機能の実装
    - LifecycleManager統合機能の実装
    - PerformanceMonitor統合機能の実装
  - **SystemManager.ts の設計実装**:
    - 優先度ベースシステム実行の実装
    - システムライフサイクル管理の実装
    - パフォーマンス統計機能の実装
    - エラーハンドリング機能の実装
  - **統合テストの実装**:
    - ECSコア統合テスト（World + SystemManager + EventBus）
    - システム実行フローテスト（3フェーズ実行）
    - イベント統合テスト（システム間連携）
  - **動作確認**: ISystemインターフェースが設計文書通りに実装されていることを確認
  - **動作確認**: WorldがEventBus統合、EntityFactory統合機能を持つことを確認
  - **動作確認**: SystemManagerが優先度ベース実行を正しく行うことを確認
  - **動作確認**: `npm run test`でECSコア統合テストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement ECS core foundation based on refined design）
  - _要件: 設計文書に基づくECSコア基盤の実装_

- [ ] 3.3.2 イベント統合システムの実装
  - **事前確認**: イベント統合設計文書（docs/architecture/ecs/systems.md）を確認
  - **LifecycleManager実装**:
    - エンティティライフサイクルイベント管理
    - コンポーネント変更イベント管理
    - システム処理イベント管理
  - **EventBus統合実装**:
    - WorldとEventBusの統合
    - システム間イベント連携の実装
    - 外部システム（React）との連携インターフェース
  - **型安全なイベントシステム実装**:
    - SystemEventMapの実装
    - 型安全なイベント発火機能
    - イベントリスナー管理機能
  - **イベント統合テスト実装**:
    - システム間イベント連携テスト
    - ライフサイクルイベントテスト
    - 外部統合イベントテスト
  - **動作確認**: LifecycleManagerがエンティティ・コンポーネントのライフサイクルイベントを正しく発火することを確認
  - **動作確認**: システム間でイベント連携が正常に動作することを確認
  - **動作確認**: 型安全なイベントシステムが期待通りに動作することを確認
  - **動作確認**: `npm run test`でイベント統合テストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement event integration system）
  - _要件: 設計文書に基づくイベント統合システムの実装_

- [ ] 3.3.3 World統合機能の実装
  - **事前確認**: World統合設計文書（docs/architecture/ecs/world.md）を確認
  - **EntityFactory統合実装**:
    - ブループリントベースエンティティ作成
    - デフォルトブループリント登録
    - ブループリント管理機能
  - **QuerySystem統合実装**:
    - 高度なエンティティクエリ機能
    - クエリキャッシュ機能
    - クエリパフォーマンス最適化
  - **PerformanceMonitor統合実装**:
    - システム実行時間監視
    - メモリ使用量監視
    - パフォーマンス統計レポート
  - **React統合インターフェース実装**:
    - useWorld カスタムフック
    - バッチ更新機能
    - 状態同期機能
  - **World統合テスト実装**:
    - EntityFactory統合テスト
    - QuerySystem統合テスト
    - PerformanceMonitor統合テスト
    - React統合テスト
  - **動作確認**: EntityFactoryがブループリントベースでエンティティを作成できることを確認
  - **動作確認**: QuerySystemが高度なクエリ機能を提供することを確認
  - **動作確認**: PerformanceMonitorがシステム性能を監視できることを確認
  - **動作確認**: `npm run test`でWorld統合テストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement World integration features）
  - _要件: 設計文書に基づくWorld統合機能の実装_

- [ ] 3.4 AnimationSystem設計の見直しと実装
  - **現状分析**: 既存のAnimationSystem実装と設計文書の整合性確認
  - **設計課題の特定**:
    - AnimationComponentとの連携仕様の不明確
    - CSS transitionとECSシステムの統合方法の曖昧さ
    - アニメーション状態管理とライフサイクルの仕様不足
    - イベント発火タイミングとフローの未定義
  - **詳細仕様の策定**:
    - AnimationSystemの具体的な動作仕様（更新頻度、処理順序）
    - CSS transitionとの連携パターンとベストプラクティス
    - アニメーション完了検知とイベント発火の仕組み
    - パフォーマンス最適化戦略（大量エンティティ対応）
  - **AnimationSystem実装**:
    - BaseSystemを継承したAnimationSystemクラス
    - アニメーション状態管理とCSS連携機能
    - イベント発火とコールバック処理
    - パフォーマンス監視と最適化機能
  - **設計文書の更新**:
    - docs/architecture/ecs/systems.md のAnimationSystem仕様追加
    - docs/api/ecs-systems.md のAnimationSystem API記述
  - **テスト実装**:
    - AnimationSystemの単体テスト（システム実行、CSS連携、イベント処理）
    - パフォーマンステスト（大量アニメーション処理）
  - **動作確認**: AnimationSystemがECSシステムとして正常に登録・実行されることを確認
  - **動作確認**: CSS transitionとの連携が適切に動作することを確認
  - **動作確認**: アニメーション完了イベントが正しく発火されることを確認
  - **動作確認**: `npm run test`でAnimationSystemのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement AnimationSystem with refined design）
  - _要件: 3.3, アニメーション機能の完全実装_

- [ ] 3.5 PhyllotaxisSystem設計の見直しと実装
  - **現状分析**: 既存のPhyllotaxisSystem実装と設計文書の整合性確認
  - **設計課題の特定**:
    - フィロタキシス計算とECSシステムの統合方法の曖昧さ
    - エンティティ位置更新のタイミングと頻度の仕様不足
    - 重複回避ロジックとインデックス管理の仕様不明確
    - イベント発火とシステム間連携の未定義
  - **詳細仕様の策定**:
    - PhyllotaxisSystemの具体的な動作仕様（トリガー、処理順序、更新頻度）
    - フィロタキシス計算ユーティリティとの連携パターン
    - エンティティインデックス管理と重複回避の仕組み
    - 位置更新イベントとアニメーション連携の仕様
  - **PhyllotaxisSystem実装**:
    - BaseSystemを継承したPhyllotaxisSystemクラス
    - エンティティ位置計算とフィロタキシス配置機能
    - インデックス管理と重複回避ロジック
    - イベント発火とシステム間連携機能
  - **設計文書の更新**:
    - docs/architecture/ecs/systems.md のPhyllotaxisSystem仕様追加
    - docs/api/ecs-systems.md のPhyllotaxisSystem API記述
  - **テスト実装**:
    - PhyllotaxisSystemの単体テスト（システム実行、位置計算、イベント発火）
    - フィロタキシス配置の正確性テスト（数学的検証）
  - **動作確認**: PhyllotaxisSystemがECSシステムとして正常に登録・実行されることを確認
  - **動作確認**: エンティティの位置計算が正確に行われることを確認
  - **動作確認**: 重複回避ロジックが適切に動作することを確認
  - **動作確認**: `npm run test`でPhyllotaxisSystemのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement PhyllotaxisSystem with refined design）
  - _要件: 3.3, フィロタキシス配置機能の完全実装_

- [ ] 3.6 ECS全体の整合性チェックと統合改善
  - **全体統合分析**: ECS実装全体（コンポーネント、エンティティ、システム）の整合性確認
  - **設計整合性の検証**:
    - コンポーネント間の依存関係と型整合性の確認
    - エンティティ管理システムとコンポーネントの連携検証
    - システム間のデータフローとイベント連携の整合性チェック
    - 設計文書と実装の最終的な一致確認
  - **パフォーマンス分析と最適化**:
    - エンティティ作成・削除のパフォーマンス測定
    - システム実行順序と処理効率の検証
    - メモリ使用量とガベージコレクション影響の分析
    - 大量エンティティ（50個）での動作確認
  - **統合テストの実装**:
    - ECS全体の統合テストスイート作成
    - エンティティライフサイクル全体のテスト
    - システム間連携の統合テスト
    - エラーハンドリングとエッジケースのテスト
  - **コードレビューと改善**:
    - 全ECSファイルのコードレビュー実施
    - TypeScript型安全性の最終確認
    - コーディング規約準拠の確認
    - パフォーマンス改善点の特定と実装
  - **設計文書の最終更新**:
    - docs/architecture/ecs/ 全文書の最終レビューと更新
    - docs/api/ecs-\*.md の実装反映と完成
    - 実装ガイドラインとベストプラクティスの追加
    - トラブルシューティングガイドの作成
  - **品質保証**:
    - 全ECSテストの実行と品質確認
    - テストカバレッジの測定と改善
    - 静的解析ツールによるコード品質チェック
    - パフォーマンスベンチマークの実施
  - **動作確認**: ECS全体が設計通りに統合され、正常に動作することを確認
  - **動作確認**: 全てのエンティティ操作（作成、更新、削除、クエリ）が期待通りに動作することを確認
  - **動作確認**: システム間の連携とイベントフローが適切に機能することを確認
  - **動作確認**: `npm run test`でECS全体のテストが全て通り、カバレッジが十分であることを確認
  - **動作確認**: パフォーマンステストで許容範囲内の結果が得られることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: complete ECS integration with comprehensive testing）
  - _要件: ECS全体の完成と品質保証_

## 4. 基本UIコンポーネントの実装

- [ ] 4.1 CenterThemeコンポーネントの実装とテスト
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: React統合設計文書（docs/architecture/ecs/integration.md）とAPI仕様書（docs/api/components.md）を確認
  - 中心テーマの表示と編集機能
  - プレースホルダーテキストの表示
  - テーマ変更時のイベント発火
  - CenterThemeコンポーネントの単体テスト実装（レンダリング、編集機能、イベント発火）
  - **動作確認**: CenterThemeコンポーネントが正常にレンダリングされることを確認
  - **動作確認**: テーマの編集機能が適切に動作することを確認
  - **動作確認**: テーマ変更時にイベントが正しく発火されることを確認
  - **動作確認**: `npm run test`でCenterThemeコンポーネントのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement CenterTheme component with tests）
  - _要件: 1.1, 1.2, 1.3_

- [ ] 4.2 AddIdeaFormコンポーネントの実装とテスト
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: React統合設計文書（docs/architecture/ecs/integration.md）とAPI仕様書（docs/api/components.md）を確認
  - アイデア追加フォームのUI実装
  - 入力検証（空文字列、文字数制限）
  - エラーメッセージの表示機能
  - AddIdeaFormコンポーネントの単体テスト実装（レンダリング、入力検証、フォーム送信）
  - **動作確認**: AddIdeaFormコンポーネントが正常にレンダリングされることを確認
  - **動作確認**: 入力検証が適切に動作し、エラーメッセージが表示されることを確認
  - **動作確認**: 有効な入力でフォーム送信が正常に動作することを確認
  - **動作確認**: `npm run test`でAddIdeaFormコンポーネントのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement AddIdeaForm component with tests）
  - _要件: 2.1, 2.2, 2.3_

- [ ] 4.3 IdeaNodeコンポーネントの実装とテスト
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: React統合設計文書（docs/architecture/ecs/integration.md）とAPI仕様書（docs/api/components.md）を確認
  - 個別アイデアの視覚的表現
  - 植物の葉を連想させるデザイン
  - アニメーション状態の反映
  - IdeaNodeコンポーネントの単体テスト実装（レンダリング、デザイン表示、アニメーション状態）
  - **動作確認**: IdeaNodeコンポーネントが正常にレンダリングされることを確認
  - **動作確認**: 植物の葉を連想させるデザインが適切に表示されることを確認
  - **動作確認**: アニメーション状態が正しく反映されることを確認
  - **動作確認**: `npm run test`でIdeaNodeコンポーネントのテストが全て通ることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement IdeaNode component with tests）
  - _要件: 4.2, 3.3_

## 5. メインマップコンポーネントとSVG描画

- [ ] 5.1 PhyllotaxisMapコンポーネントの基本実装
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: React統合設計文書（docs/architecture/ecs/integration.md）とAPI仕様書（docs/api/components.md）を確認
  - アプリケーション全体の状態管理
  - SVG描画領域の設定
  - レスポンシブ対応の基本実装
  - **動作確認**: PhyllotaxisMapコンポーネントが正常にレンダリングされることを確認
  - **動作確認**: SVG描画領域が適切に設定され、表示されることを確認
  - **動作確認**: レスポンシブ対応が異なる画面サイズで正常に動作することを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement PhyllotaxisMap main component）
  - _要件: 5.1, 5.2, 5.3_

- [ ] 5.2 SVG描画システムの実装
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: ECSシステム設計文書（docs/architecture/ecs/systems.md）とAPI仕様書（docs/api/ecs-systems.md）を確認
  - RenderSystemによるSVG要素の動的生成
  - ビューポート適応とスケーリング
  - 座標系変換の実装
  - **動作確認**: RenderSystemがSVG要素を正常に動的生成することを確認
  - **動作確認**: ビューポート適応とスケーリングが適切に動作することを確認
  - **動作確認**: 座標系変換が正確に計算されることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement SVG rendering system）
  - _要件: 4.1, 4.2, 4.3_

- [ ] 5.3 アイデア追加フローの統合
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: React統合設計文書（docs/architecture/ecs/integration.md）とイベント駆動設計文書（docs/architecture/event-driven-design.md）を確認
  - フォーム入力からSVG配置までの一連の流れ
  - イベント駆動による各システムの連携
  - エラーハンドリングの統合
  - **動作確認**: フォーム入力からSVG配置までの一連の流れが正常に動作することを確認
  - **動作確認**: イベント駆動による各システムの連携が適切に動作することを確認
  - **動作確認**: エラーハンドリングが統合され、適切にエラーが処理されることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: integrate idea addition flow）
  - _要件: 2.1, 2.2, 3.1, 3.2, 3.3_

## 6. スタイリングとアニメーション

- [ ] 6.1 Tailwind CSSによる基本スタイリング
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: デザインシステム設計文書（docs/architecture/component-diagram.md）を確認
  - 自然で有機的な配色の実装
  - 中心テーマと葉の視覚的差別化
  - レスポンシブデザインの適用
  - **動作確認**: 自然で有機的な配色が適切に適用されていることを確認
  - **動作確認**: 中心テーマと葉の視覚的差別化が明確に表現されていることを確認
  - **動作確認**: レスポンシブデザインが異なる画面サイズで正常に動作することを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（style: implement Tailwind CSS styling）
  - _要件: 4.1, 4.2, 4.3, 5.1, 5.2_

- [ ] 6.2 アニメーション効果の実装
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: アニメーション設計文書（docs/architecture/ecs/systems.md）とCSS設計文書を確認
  - アイデア配置時のスムーズなアニメーション
  - CSS transitionとReact状態変更の連携
  - パフォーマンス最適化（大量アイデア対応）
  - **動作確認**: アイデア配置時のアニメーションがスムーズに動作することを確認
  - **動作確認**: CSS transitionとReact状態変更の連携が適切に動作することを確認
  - **動作確認**: 大量アイデア（50個程度）でもパフォーマンスが維持されることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement smooth animations）
  - _要件: 3.3, 6.2_

- [ ] 6.3 モバイル対応とタッチインタラクション
  - **事前確認**: コーディング規約とベストプラクティス文書（docs/guides/coding-standards.md）を確認
  - **設計確認**: レスポンシブデザイン仕様とモバイル対応設計文書を確認
  - モバイルデバイス向けのレイアウト調整
  - タッチ操作の最適化
  - 画面サイズ変更時の動的調整
  - **動作確認**: モバイルデバイス（またはDevToolsのモバイルビュー）でレイアウトが適切に調整されることを確認
  - **動作確認**: タッチ操作（タップ、スワイプ）が正常に動作することを確認
  - **動作確認**: 画面サイズ変更時に動的調整が適切に行われることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: implement mobile responsiveness）
  - _要件: 5.1, 5.2, 5.3_

## 7. テスト実装

- [ ] 7.1 単体テストの実装
  - フィロタキシス計算関数のテスト
  - ECSコンポーネントとシステムのテスト
  - カスタムフックのテスト
  - **動作確認**: `npm run test`で全ての単体テストが通ることを確認
  - **動作確認**: テストカバレッジレポートが適切に生成されることを確認
  - **動作確認**: 各テストケースが期待される結果を返すことを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（test: implement unit tests）
  - _要件: 設計書のテスト戦略に基づく_

- [ ] 7.2 コンポーネント統合テストの実装
  - React Testing Libraryによるコンポーネントテスト
  - アイデア追加フローの統合テスト
  - エラーハンドリングのテスト
  - **動作確認**: `npm run test`でコンポーネント統合テストが全て通ることを確認
  - **動作確認**: アイデア追加フローの統合テストが期待通りに動作することを確認
  - **動作確認**: エラーハンドリングのテストが適切にエラーケースをカバーしていることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（test: implement component integration tests）
  - _要件: 設計書のテスト戦略に基づく_

- [ ] 7.3 E2Eテストの実装
  - Playwrightによる基本ユーザーフローテスト
  - 複数ブラウザでの動作確認
  - レスポンシブ表示のテスト
  - **動作確認**: `npm run test:e2e`でE2Eテストが全て通ることを確認
  - **動作確認**: 複数ブラウザ（Chrome、Firefox、Safari）で基本フローが動作することを確認
  - **動作確認**: レスポンシブ表示のテストが異なる画面サイズで正常に動作することを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（test: implement E2E tests）
  - _要件: 設計書のテスト戦略に基づく_

## 8. ドキュメントとストーリーブック

- [ ] 8.1 Storybookセットアップとコンポーネントストーリー
  - Storybookの設定と基本構成
  - 各UIコンポーネントのストーリー作成
  - インタラクティブドキュメントの実装
  - **動作確認**: `npm run storybook`でStorybookが正常に起動することを確認
  - **動作確認**: 各UIコンポーネントのストーリーが適切に表示されることを確認
  - **動作確認**: インタラクティブドキュメントが正常に動作することを確認
  - Obsidian最適化（YAML frontmatter、内部リンク、タグ、コールアウト）
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: setup Storybook and component stories）
  - _要件: 設計書のドキュメント戦略に基づく_

- [ ] 8.2 ADR（Architecture Decision Records）の作成
  - Next.js 15採用の決定記録
  - SVG over Canvasの決定記録
  - フィロタキシスアルゴリズム実装の決定記録
  - **動作確認**: ADRファイルが適切なフォーマットで作成されていることを確認
  - **動作確認**: 各決定記録に必要な情報（背景、決定、結果）が含まれていることを確認
  - **動作確認**: ADRファイルがObsidianで適切に表示されることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: create architecture decision records）
  - _要件: 設計書のADR戦略に基づく_

- [ ] 8.3 魅力的なREADMEの作成
  - プロジェクト概要とデモGIFの作成
  - フィロタキシスの科学的背景説明
  - クイックスタートガイドの作成
  - **動作確認**: README.mdが適切にフォーマットされ、必要な情報が含まれていることを確認
  - **動作確認**: デモGIFが正常に表示され、プロジェクトの機能を適切に示していることを確認
  - **動作確認**: クイックスタートガイドに従って実際にプロジェクトが起動できることを確認
  - Obsidian最適化（YAML frontmatter、内部リンク、タグ、コールアウト）
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（docs: create comprehensive README）
  - _要件: 設計書のREADME戦略に基づく_

## 9. パフォーマンス最適化と最終調整

- [ ] 9.1 パフォーマンス最適化
  - 大量アイデア（50個上限）での動作最適化
  - アニメーション処理の最適化
  - メモリ使用量の最適化
  - **動作確認**: 50個のアイデアを追加してもスムーズに動作することを確認
  - **動作確認**: アニメーション処理が最適化され、フレームレートが維持されることを確認
  - **動作確認**: メモリ使用量が適切な範囲内に収まっていることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（perf: optimize performance for large datasets）
  - _要件: 6.1, 6.2, 6.3_

- [ ] 9.2 エラーハンドリングの強化
  - SVG描画失敗時のフォールバック実装
  - 位置計算エラー時のデフォルト位置使用
  - ユーザーフレンドリーなエラーメッセージ
  - **動作確認**: SVG描画失敗時にフォールバック処理が適切に動作することを確認
  - **動作確認**: 位置計算エラー時にデフォルト位置が使用されることを確認
  - **動作確認**: ユーザーフレンドリーなエラーメッセージが適切に表示されることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（feat: enhance error handling and fallbacks）
  - _要件: 設計書のエラーハンドリング戦略に基づく_

- [ ] 9.3 最終的な統合テストとデバッグ
  - 全機能の統合動作確認
  - クロスブラウザ互換性テスト
  - パフォーマンステストの実行
  - **動作確認**: 全機能が統合された状態で正常に動作することを確認
  - **動作確認**: Chrome、Firefox、Safariでの互換性が確保されていることを確認
  - **動作確認**: パフォーマンステストで期待される結果が得られることを確認
  - 全体の整合性確認とコードレビュー
  - Gitコミットとプッシュ（test: final integration testing and debugging）
  - _要件: 全要件の最終確認_
